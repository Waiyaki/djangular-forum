<md-content layout="row" layout-align="space-around center">
    <md-card flex="75" flex-gt-md="66" class="input-card">
        <md-toolbar>
            <h1 layout-align="center" class="md-toolbar-tools">Register</h1>
        </md-toolbar>
        <md-card-content>
            <form name="registerForm" ng-submit="vm.register()" novalidate>
                <md-input-container>
                    <label>Username</label>
                    <input type="text" ng-model="vm.user.username" required
                           name="username"
                           validate-username>

                    <div ng-messages="registerForm.username.$error" ng-if="registerForm.username.$touched">
                        <div ng-message="required">This field is required</div>
                        <div ng-message="validateUsername">This username exists.</div>
                        <div ng-if="registerForm.username.$pending">
                            <p class="md-caption validating">Validating username...</p>
                        </div>
                    </div>
                </md-input-container>

                <md-input-container>
                    <label>Email</label>
                    <input type="email" ng-model="vm.user.email" required name="email">

                    <div ng-messages="registerForm.email.$error" ng-if="registerForm.email.$touched">
                        <div ng-message="required">This field is required</div>
                        <div ng-message="email">Please enter a valid email address.</div>
                    </div>
                </md-input-container>

                <md-input-container>
                    <label>Password</label>
                    <input type="password" ng-model="vm.user.password1" name="password1" required
                            ng-minlength="6">

                    <div ng-messages="registerForm.password1.$error" ng-if="registerForm.password1.$touched">
                        <div ng-message="required">This field is required.</div>
                        <div ng-message="minlength">Password should have a minimum length of 6 characters.</div>
                    </div>
                </md-input-container>

                <md-input-container>
                    <label>Confirm Password</label>
                    <input type="password" ng-model="vm.user.password2"
                           name="password2" required
                           ng-minlength="6"
                           validate-password="vm.user.password1">

                    <div ng-messages="registerForm.password2.$error" ng-if="registerForm.password2.$touched">
                        <div ng-message="required">This field is required.</div>
                        <div ng-message="minlength">Password should have a minimum length of 6 characters.</div>
                        <div ng-message="validatePassword">Passwords did not match.</div>
                    </div>
                </md-input-container>
                <md-button type="submit" class="md-raised md-primary" ng-disabled="registerForm.$invalid" aria-label="Submit">
                    Submit
                </md-button>
            </form>
        </md-card-content>
    </md-card>
</md-content>
